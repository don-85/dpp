<!DOCTYPE html> 
<html lang="en">

<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="csrf-token" content="PRXmcuJRxNKOng8uh4PkYeHqgT57v20xgggz2aJE">
    <title>EmpowerNet - How It Works</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/web3/dist/web3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/web3modal/1.9.2/web3modal.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider/dist/umd/index.min.js"></script>
</head>

<body>

<header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">EmpowerNet</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item"><a class="nav-link text-white" href="#how-it-works">How It Works</a></li>
                    <li class="nav-item"><a class="nav-link text-white" href="#connect-wallet">Connect Wallet</a></li>
                    <li class="nav-item"><a class="nav-link text-white" href="#signup">Sign Up</a></li>
                    <li class="nav-item"><a class="nav-link text-white" href="#login">Login</a></li>
                    <li class="nav-item"><a class="nav-link text-white" href="#faq">FAQ</a></li>
                </ul>                
            </div>
        </div>
    </nav>
</header>

<section id="hero" class="py-5 text-white text-center" style="background: linear-gradient(45deg, #58cce9, #58cce9, #58cce9); background-size: 400% 400%; animation: gradientBG 15s ease infinite;">
    <style>
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
    </style>
    <div class="container">
        <h1 class="display-4 animate__animated animate__fadeInDown">Join the Donation Network</h1>
        <p class="lead animate__animated animate__fadeInUp">Connect, donate, and grow your network to make an impact globally.</p>
        <a href="#connect-wallet" class="btn btn-primary btn-lg mt-3 animate__animated animate__zoomIn">Get Started</a>
    </div>
</section>

<section id="connect-wallet" class="py-5 bg-light">
    <div class="container text-center">
        <h2>Connect Your Wallet</h2>
        <button id="connectWalletBtn" class="btn btn-primary btn-lg mt-3">Connect Wallet</button>
        <div id="walletAddress" class="mt-3 text-success"></div>

        <h4 class="mt-5">Make a Donation</h4>
        <input type="number" id="donationAmount" class="form-control w-50 mx-auto mt-3" placeholder="Enter donation amount in USDT">
        <button id="donateBtn" class="btn btn-success btn-lg mt-3">Donate</button>
    </div>
</section>

<footer class="bg-dark text-white py-3 text-center">
    <p>&copy; 2025 EmpowerNet. All Rights Reserved.</p>
</footer>

<script>
    const providerOptions = {
        walletconnect: {
            package: WalletConnectProvider.default, // required
            options: {
                rpc: {
                    56: "https://bsc-dataseed.binance.org/", // Binance Smart Chain Mainnet RPC
                },
            },
        },
    };

    const web3Modal = new Web3Modal.default({
        cacheProvider: true, // optional
        providerOptions, // required
    });

    let web3;
    let userAccount;

    document.getElementById('connectWalletBtn').addEventListener('click', async () => {
        try {
            const provider = await web3Modal.connect();
            web3 = new Web3(provider);

            const accounts = await web3.eth.getAccounts();
            userAccount = accounts[0];

            document.getElementById('walletAddress').innerText = `Connected: ${userAccount}`;
        } catch (error) {
            console.error('Wallet connection failed:', error);
        }
    });

    document.getElementById('donateBtn').addEventListener('click', async () => {
        const amount = document.getElementById('donationAmount').value;
        if (!amount || isNaN(amount) || amount <= 0) {
            alert('Enter a valid donation amount.');
            return;
        }
        if (!userAccount) {
            alert('Connect your wallet first.');
            return;
        }
        try {
            const usdtAmount = web3.utils.toWei(amount, 'ether');
            // Add contract interaction logic here
            alert(`Donation of ${amount} USDT successful!`);
        } catch (error) {
            console.error('Donation failed:', error);
            alert('Transaction failed.');
        }
    });
</script>

</body>

</html>
